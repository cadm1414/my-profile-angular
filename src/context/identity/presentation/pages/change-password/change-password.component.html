<div class="change-password-container">
  <h3>Cambiar Contraseña</h3>

  @if (error()) {
    <nz-alert 
      nzType="error" 
      [nzMessage]="error()" 
      nzCloseable
      (nzOnClose)="dismissError()"
      style="margin-bottom: 16px;">
    </nz-alert>
  }

  <form nz-form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
    <nz-form-item>
      <nz-form-label [nzSpan]="24" nzRequired>Contraseña Actual</nz-form-label>
      <nz-form-control [nzSpan]="24" nzErrorTip="La contraseña debe tener al menos 6 caracteres">
        <input nz-input formControlName="current_password" type="password" placeholder="Contraseña actual" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="24" nzRequired>Nueva Contraseña</nz-form-label>
      <nz-form-control [nzSpan]="24" nzErrorTip="La contraseña debe tener al menos 6 caracteres">
        <input nz-input formControlName="new_password" type="password" placeholder="Nueva contraseña" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="24" nzRequired>Confirmar Contraseña</nz-form-label>
      <nz-form-control [nzSpan]="24" nzErrorTip="La contraseña debe tener al menos 6 caracteres">
        <input nz-input formControlName="confirm_password" type="password" placeholder="Confirmar contraseña" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-control [nzSpan]="24">
        <button 
          nz-button 
          nzType="primary" 
          type="submit"
          [nzLoading]="loading()">
          Cambiar Contraseña
        </button>
      </nz-form-control>
    </nz-form-item>
  </form>
</div>
